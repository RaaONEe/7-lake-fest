<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="og: https://ogp.me/ns#">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width" />
  <link rel="profile" href="http://gmpg.org/xfn/11" />

  <title>Events - 7-Lake-Fest IIMC</title>

  <style>
    :root{
      --brand-blue:#21366e;
      --text:#0f1222;
      --muted:#667085;
      --bg:#fff;
      --card:#fff;
      --line:#e6e8f0;
      --ok:#0f9d58;
      --warn:#e37400;
      --danger:#b42318;
      --shadow-sm:0 2px 10px rgba(16, 24, 40, .06);
      --shadow-md:0 12px 28px rgba(16, 24, 40, .14);
    }

    *{box-sizing:border-box}
    img{max-width:100%;height:auto;display:block}
    a{text-decoration:none;color:inherit}
    body{margin:0;font-family:"Source Sans Pro","Poppins","Segoe UI",Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text)}
    html,body{height:100%}
    .site{min-height:100vh;display:flex;flex-direction:column}
    main#site-content{flex:1 0 auto}
    .footer{flex-shrink:0}

    .wrap{max-width:1200px;margin:0 auto;padding:0 16px}

    /* header (same feel) */
    .site-header{position:relative;z-index:10;background:#fff;border-bottom:1px solid #eef0f5}
    .header-inner{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{height:60px;width:auto}
    nav ul{list-style:none;display:flex;gap:20px;margin:0;padding:0}
    nav a{color:#000;font-weight:600}
    nav a[aria-current="page"]{color:var(--brand-blue)}

    .box-title{font-weight:900;letter-spacing:.02em;margin:0}

    /* search bar under header */
    .search-bar{
      background:#f7f7f8;border-bottom:1px solid #eef0f5;
    }
    .search-inner{display:flex;gap:8px;align-items:center;padding:12px 0}
    .search-input{
      flex:1;border:1px solid var(--line);border-radius:10px;padding:.75rem .9rem;font-size:1rem;
      outline:none;transition:box-shadow .15s ease,border-color .15s ease;background:#fff;
    }
    .search-input:focus{border-color:var(--brand-blue);box-shadow:0 0 0 3px rgba(33,54,110,.12)}
    .clear-btn{
      border:1px solid var(--line);background:#fff;border-radius:10px;padding:.72rem .9rem;font-weight:800;cursor:pointer;
    }

    /* TIMELINE */
    .events-timeline{padding:24px 0 10px;background:#fff}
    .timeline{
      position:relative;margin:18px 0 8px;padding-left:28px;
    }
    .timeline:before{
      content:"";position:absolute;left:12px;top:0;bottom:0;width:2px;background:var(--line);
    }
    .t-group{margin-bottom:22px}
    .t-date{
      font-weight:900;color:#162037;margin:14px 0 8px;font-size:1.05rem;
    }
    .t-item{
      position:relative;background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px 14px;margin:10px 0;
      box-shadow:var(--shadow-sm);
    }
    .t-item:before{
      content:"";position:absolute;left:-19px;top:16px;width:12px;height:12px;border-radius:50%;
      background:#fff;border:2px solid var(--brand-blue);
    }
    .t-top{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}
    .t-title{margin:0;font-weight:900;font-size:1.05rem}
    .t-facts{display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);font-weight:700;font-size:.92rem}
    .t-desc{margin:8px 0 0;color:#293145;line-height:1.45}

    .status-pill{
      padding:4px 10px;border-radius:999px;font-size:.82rem;font-weight:800;letter-spacing:.02em;color:#fff;
    }
    .status-upcoming{background:var(--brand-blue)}
    .status-live{background:var(--warn)}
    .status-completed{background:#475467}

    /* GRID (bottom): picture + name + status only */
    .events-grid-wrap{padding:12px 0 56px;background:#f7f7f8}
    .grid-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}
    .events-grid{
      display:grid;grid-template-columns:repeat(4,1fr);gap:16px;
    }
    @media (max-width:1100px){.events-grid{grid-template-columns:repeat(3,1fr)}}
    @media (max-width:820px){.events-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:520px){.events-grid{grid-template-columns:1fr}}

    .mini-card{
      background:#fff;border:1px solid var(--line);border-radius:14px;overflow:hidden;box-shadow:var(--shadow-sm);
      transition:transform .25s ease, box-shadow .25s ease;border-color:#e9e9ee;
    }
    .mini-card:hover{transform:translateY(-3px);box-shadow:var(--shadow-md);border-color:#dfe3f3}
    .mini-media{aspect-ratio:4/3;background:#e8ecf3;overflow:hidden}
    .mini-media img{width:100%;height:100%;object-fit:cover}
    .mini-body{padding:10px 12px;display:flex;align-items:center;justify-content:space-between;gap:10px}
    .mini-name{margin:0;font-weight:900}
    .mini-status{font-weight:800;font-size:.82rem;padding:4px 10px;border-radius:999px;color:#fff;white-space:nowrap}
    .s-upcoming{background:var(--brand-blue)}
    .s-live{background:var(--warn)}
    .s-completed{background:#475467}

    /* footer (same) */
    .footer{background:#111;color:#ddd}
    .footer a{color:#ddd}
    .footer .wrap{display:grid;grid-template-columns:repeat(4,1fr);gap:24px;padding:32px 16px}
    @media(max-width:900px){.footer .wrap{grid-template-columns:1fr}}
    .site-info{border-top:1px solid #222;padding:12px 16px;text-align:center}
    .socials{display:flex;gap:14px;justify-content:center;margin-bottom:10px}
  </style>

  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700|Poppins:300,400,500,600,700,800,900&display=swap" rel="stylesheet" />
  <link rel="icon" href="https://YOUR-CDN.example/7lakefest-favicon-32.png" sizes="32x32" />
  <link rel="icon" href="https://YOUR-CDN.example/7lakefest-favicon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="https://YOUR-CDN.example/7lakefest-apple-180.png" />
  <meta name="msapplication-TileImage" content="https://YOUR-CDN.example/7lakefest-ms-270.png" />
</head>

<body class="home">
  <div class="site">

    <!-- HEADER -->
    <header class="site-header">
      <div class="wrap header-inner">
        <div class="brand">
          <a href="https://YOUR-DOMAIN.example/">
            <img src="https://YOUR-CDN.example/7lakefest-logo.png" alt="7-Lake-Fest IIMC">
          </a>
          <h1 style="margin:0;font-size:1.25rem;">
            <a href="https://YOUR-DOMAIN.example/" style="text-decoration:none;color:#000;">7-Lake-Fest IIMC</a>
          </h1>
        </div>

        <div class="brand">
          <a href="https://YOUR-DOMAIN.example/">
            <img src="https://YOUR-CDN.example/7lakefest-lockup-blue.png" alt="7-Lake-Fest IIMC Lockup">
          </a>
        </div>

        <nav aria-label="Main Menu">
          <ul>
            <li><a href="/sponsors.html">Sponsors</a></li>
            <li><a href="/events.html" aria-current="page">Events</a></li>
            <li><a href="/Speakers.html">Speakers</a></li>
            <li><a href="/stats.html">Statistics</a></li>
            <li><a href="/contact.html">Reach Us</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- SEARCH -->
    <div class="search-bar">
      <div class="wrap search-inner">
        <input id="searchInput" class="search-input" type="search" placeholder="Search events by name… e.g., Crescendo, Pixel Perfect" aria-label="Search events by name">
        <button id="clearBtn" class="clear-btn" type="button" aria-label="Clear search">Clear</button>
      </div>
    </div>

    <!-- MAIN -->
    <main id="site-content">
      <!-- TIMELINE (DETAILED) -->
      <section class="events-timeline">
        <div class="wrap">
          <h2 class="box-title">Timeline</h2>
          <p style="color:#444;max-width:780px;margin:8px 0 12px">Full schedule with time, location, and a short note for each event.</p>

          <div id="timeline" class="timeline" aria-live="polite"></div>
          <p id="noTimeline" style="display:none;color:#666;margin:6px 0 0">No events found for that search.</p>
        </div>
      </section>

      <!-- GRID (PICTURE + NAME + STATUS) -->
      <section class="events-grid-wrap">
        <div class="wrap">
          <div class="grid-header">
            <h2 class="box-title">All Events</h2>
            <span id="countBadge" style="color:#525a70;font-weight:800"></span>
          </div>
          <div id="grid" class="events-grid"></div>
          <p id="noGrid" style="display:none;color:#666;margin:8px 0 0">No events to display.</p>
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="wrap">
        <div>
          <img src="https://YOUR-CDN.example/7lakefest-logo-ivory.png" alt="7-Lake-Fest IIMC" style="width:220px;height:auto;display:block">
        </div>
        <div>
          <h3 style="margin-top:0">Address</h3>
          <ul style="list-style:none;padding-left:0;line-height:1.8">
            <li>Indian Institute of Management Calcutta</li>
            <li>Joka, Kolkata, West Bengal 700104</li>
            <li><a href="mailto:7lakefest@iimcal.ac.in">7lakefest@iimcal.ac.in</a></li>
          </ul>
        </div>
        <div>
          <h3 style="margin-top:0">Events</h3>
          <p><a href="/events.html">See full schedule →</a></p>
        </div>
        <div>
          <h3 style="margin-top:0">Contact</h3>
          <p><a href="/contact.html">Reach the team →</a></p>
        </div>
      </div>

      <div class="site-info">
        <div class="socials">
          <a href="https://www.facebook.com/YOUR.PAGE" aria-label="Facebook">Facebook</a>
          <a href="https://x.com/YOUR.HANDLE" aria-label="Twitter / X">X</a>
          <a href="https://www.instagram.com/YOUR.HANDLE" aria-label="Instagram">Instagram</a>
          <a href="https://www.linkedin.com/company/YOUR.COMPANY" aria-label="LinkedIn">LinkedIn</a>
        </div>
        <div>
          <a href="https://YOUR-DOMAIN.example/">7-Lake-Fest IIMC</a> |
          Design &amp; Developed by: <a href="https://www.iimcal.ac.in" target="_blank" rel="noopener">Core Digital Team, IIMC</a> |
          &copy; <span id="year"></span> All rights reserved
        </div>
      </div>
    </footer>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // ------- EVENT DATA (Edit this) -------
    // Use ISO start/end; status auto-computed from these.
    const eventsData = [
      {
        id:'adm', title:'Ad-Mad (Ad Making)', img:'https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?q=80&w=1600&auto=format&fit=crop',
        href:'/events/ad-mad.html',
        start:'2025-01-10T10:00:00+05:30', end:'2025-01-10T12:30:00+05:30',
        location:'Main Hall', note:'Pitch your wildest ad ideas with a tight brief and big energy.'
      },
      {
        id:'dc', title:'Director’s Cut (Short Film)', img:'https://images.unsplash.com/photo-1478720568477-152d9b164e26?q=80&w=1600&auto=format&fit=crop',
        href:'/events/directors-cut.html',
        start:'2025-01-10T14:00:00+05:30', end:'2025-01-10T17:30:00+05:30',
        location:'Seminar Hall', note:'From script to screen—short films judged by industry guests.'
      },
      {
        id:'pixel', title:'Pixel Perfect (Photography)', img:'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1600&auto=format&fit=crop',
        href:'/events/pixel-perfect.html',
        start:'2025-01-11T09:30:00+05:30', end:'2025-01-11T11:30:00+05:30',
        location:'Campus Grounds', note:'Capture stories in frames. Solo category.'
      },
      {
        id:'razz', title:'Razzmatazz (Group Fashion)', img:'https://images.unsplash.com/photo-1549880338-65ddcdfd017b?q=80&w=1600&auto=format&fit=crop',
        href:'/events/razzmatazz.html',
        start:'2025-01-12T18:00:00+05:30', end:'2025-01-12T20:00:00+05:30',
        location:'Open Arena', note:'Runway spectacle with coordinated styling and themes.'
      },
      {
        id:'fourth', title:'Fourth Wall (Stage Play)', img:'https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb?q=80&w=1600&auto=format&fit=crop',
        href:'/events/fourth-wall.html',
        start:'2025-01-10T18:30:00+05:30', end:'2025-01-10T20:00:00+05:30',
        location:'Auditorium', note:'Classic theatre with a campus twist.'
      },
      {
        id:'cres', title:'Crescendo (Battle of Bands)', img:'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?q=80&w=1600&auto=format&fit=crop',
        href:'/events/crescendo.html',
        start:'2025-01-10T20:30:00+05:30', end:'2025-01-10T22:30:00+05:30',
        location:'Main Stage', note:'Originals or covers—turn the decibels up and wow the crowd.'
      },
      {
        id:'petersong', title:'Petersong (Solo Music)', img:'https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?q=80&w=1600&auto=format&fit=crop',
        href:'/events/petersong.html',
        start:'2025-01-11T15:00:00+05:30', end:'2025-01-11T17:00:00+05:30',
        location:'Amphitheatre', note:'Your voice. Your vibe. Your stage.'
      },
      {
        id:'aaghaaz', title:'Aaghaaz (Street Play)', img:'https://images.unsplash.com/photo-1514510167568-75c2df5dfb37?q=80&w=1600&auto=format&fit=crop',
        href:'/events/aaghaaz.html',
        start:'2025-01-12T10:00:00+05:30', end:'2025-01-12T12:00:00+05:30',
        location:'Central Plaza', note:'Raw, powerful street theatre to spark conversations.'
      },
      {
        id:'tango', title:'Two to Tango (Duet Dance)', img:'https://images.unsplash.com/photo-1505069190533-da1c9af133d0?q=80&w=1600&auto=format&fit=crop',
        href:'/events/two-to-tango.html',
        start:'2025-01-12T16:00:00+05:30', end:'2025-01-12T17:30:00+05:30',
        location:'Cultural Stage', note:'Chemistry and choreography in perfect sync.'
      }
    ];

    // ------- Helpers -------
    const fmtDate = (iso) => {
      const d = new Date(iso);
      // e.g., Fri, Jan 10 • 4:00 PM
      return d.toLocaleString('en-IN', {weekday:'short', month:'short', day:'2-digit', hour:'numeric', minute:'2-digit', hour12:true});
    };
    const dayKey = (iso) => {
      const d = new Date(iso);
      return d.toLocaleDateString('en-CA'); // YYYY-MM-DD
    };
    const dayLabel = (iso) => {
      const d = new Date(iso);
      return d.toLocaleDateString('en-IN', {weekday:'long', day:'numeric', month:'long', year:'numeric'});
    };
    const statusOf = (ev) => {
      const now = new Date();
      const s = new Date(ev.start);
      const e = new Date(ev.end);
      if (now < s) return 'upcoming';
      if (now >= s && now <= e) return 'live';
      return 'completed';
    };

    // ------- Renderers -------
    const timelineEl = document.getElementById('timeline');
    const noTimelineEl = document.getElementById('noTimeline');
    const gridEl = document.getElementById('grid');
    const noGridEl = document.getElementById('noGrid');
    const countBadge = document.getElementById('countBadge');
    const searchInput = document.getElementById('searchInput');
    const clearBtn = document.getElementById('clearBtn');

    function render(data){
      // Sort by start time
      const items = [...data].sort((a,b)=> new Date(a.start) - new Date(b.start));

      // Group by day for timeline
      const groups = {};
      items.forEach(ev=>{
        const key = dayKey(ev.start);
        if(!groups[key]) groups[key] = {label: dayLabel(ev.start), items:[]};
        groups[key].items.push(ev);
      });

      // Timeline
      timelineEl.innerHTML = '';
      Object.keys(groups).sort().forEach(key=>{
        const g = groups[key];
        const group = document.createElement('div');
        group.className = 't-group';
        group.innerHTML = `<div class="t-date">${g.label}</div>`;
        g.items.forEach(ev=>{
          const st = statusOf(ev);
          const pillClass = st==='upcoming'?'status-upcoming':(st==='live'?'status-live':'status-completed');
          const pillText = st==='upcoming'?'Upcoming':(st==='live'?'Live Now':'Completed');
          const item = document.createElement('article');
          item.className = 't-item';
          item.innerHTML = `
            <div class="t-top">
              <h3 class="t-title">${ev.title}</h3>
              <span class="status-pill ${pillClass}">${pillText}</span>
            </div>
            <div class="t-facts">
              <span>🕒 ${fmtDate(ev.start)} — ${new Date(ev.end).toLocaleTimeString('en-IN',{hour:'numeric',minute:'2-digit',hour12:true})}</span>
              <span>📍 ${ev.location}</span>
            </div>
            <p class="t-desc">${ev.note || ''}</p>
          `;
          group.appendChild(item);
        });
        timelineEl.appendChild(group);
      });

      noTimelineEl.style.display = items.length ? 'none' : 'block';

      // Grid
      gridEl.innerHTML = '';
      items.forEach(ev=>{
        const st = statusOf(ev);
        const sc = st==='upcoming'?'s-upcoming':(st==='live'?'s-live':'s-completed');
        const stText = st==='upcoming'?'Upcoming':(st==='live'?'Live':'Completed');
        const card = document.createElement('a');
        card.href = ev.href || '#';
        card.className = 'mini-card';
        card.setAttribute('aria-label', ev.title);
        card.innerHTML = `
          <figure class="mini-media">
            <img src="${ev.img}" alt="${ev.title}">
          </figure>
          <div class="mini-body">
            <h3 class="mini-name">${ev.title}</h3>
            <span class="mini-status ${sc}">${stText}</span>
          </div>
        `;
        gridEl.appendChild(card);
      });

      noGridEl.style.display = items.length ? 'none' : 'block';
      countBadge.textContent = items.length ? `${items.length} event${items.length>1?'s':''}` : '';
    }

    // ------- Search (filters by name) -------
    function filterData(q){
      const term = q.trim().toLowerCase();
      if (!term) return eventsData;
      return eventsData.filter(ev => ev.title.toLowerCase().includes(term));
    }

    // Handle query param (?q=...)
    const urlQ = new URLSearchParams(location.search).get('q') || '';
    if (urlQ){ searchInput.value = urlQ; }

    function applySearch(){
      const q = searchInput.value || '';
      // Update URL (without reloading)
      const usp = new URLSearchParams(location.search);
      if (q) usp.set('q', q); else usp.delete('q');
      history.replaceState(null, '', `${location.pathname}${usp.toString()?`?${usp.toString()}`:''}`);
      render(filterData(q));
    }

    // Live filter (with light debounce)
    let tId;
    searchInput.addEventListener('input', () => {
      clearTimeout(tId);
      tId = setTimeout(applySearch, 120);
    });

    clearBtn.addEventListener('click', () => {
      searchInput.value = '';
      applySearch();
      searchInput.focus();
    });

    // Initial render
    render(filterData(urlQ));
  </script>
</body>
</html>
